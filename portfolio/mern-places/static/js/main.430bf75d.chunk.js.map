{"version":3,"sources":["shared/components/FormElements/Button.js","shared/components/UIElements/LoadingSpinner.js","shared/context/auth-context.js","shared/components/UIElements/Modal.js","shared/components/UIElements/ErrorModal.js","shared/hooks/http-hook.js","shared/components/UIElements/Card.js","shared/components/UIElements/Backdrop.js","shared/components/UIElements/Map.js","places/components/PlaceItem.js","places/components/PlaceList.js","assets/img/places_logo.svg","shared/hooks/auth-hook.js","shared/components/Navigation/MainHeader.js","shared/components/Navigation/NavLinks.js","shared/components/Navigation/SideDrawer.js","shared/components/Navigation/MainNavigation.js","places/pages/AllPlaces.js","App.js","index.js"],"names":["Button","props","href","className","size","inverse","danger","children","to","exact","type","onClick","disabled","LoadingSpinner","asOverlay","AuthContext","createContext","isLoggedIn","userId","token","login","logout","ModalOverlay","content","style","headerClass","header","onSubmit","event","preventDefault","contentClass","footerClass","footer","ReactDOM","createPortal","document","getElementById","Modal","Fragment","show","onCancel","in","mountOnEnter","unmountOnExit","timeout","classNames","ErrorModal","onClear","error","useHttpClient","useState","isLoading","setIsLoading","setError","activeHttpRequests","useRef","sendRequest","useCallback","url","a","method","body","headers","httpAbortCtrl","AbortController","current","push","fetch","signal","response","json","responseData","filter","reqCtrl","ok","Error","message","useEffect","forEach","abortCtrl","abort","clearError","Card","Backdrop","Map","mapRef","center","zoom","window","ol","target","id","layers","layer","Tile","source","OSM","view","View","proj","fromLonLat","lng","lat","ref","PlaceItem","auth","useContext","showMap","setShowMap","showPlaceDetail","setShowPlaceDetail","showConfirmModal","setShowConfirmModal","closePlaceDetailHandler","closeMapHandler","cancelDeleteHandler","confirmDeleteHandler","process","Authorization","onDelete","title","src","image","alt","creatorId","description","address","coordinates","PlaceList","items","length","map","place","key","creator","location","onDeletePlace","module","exports","logoutTimer","MainHeader","NavLinks","SideDrawer","CSSTransition","MainNavigation","drawerIsOpen","setDrawerIsOpen","closeDrawerHandler","logo","AllPlaces","loadedPlaces","setLoadedPlaces","places","fetchPlaces","deletedPlaceId","prevPlaces","Users","React","lazy","NewPlace","UserPlaces","UpdatePlace","Auth","Place","App","routes","setToken","tokenExpirationDate","setTokenExpirationDate","setUserId","uid","expirationDate","Date","getTime","localStorage","setItem","JSON","stringify","expiration","toISOString","removeItem","remainingTime","setTimeout","clearTimeout","storedData","parse","getItem","useAuth","path","Provider","value","fallback","render"],"mappings":"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","file":"static/js/main.430bf75d.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Button.css';\n\nconst Button = (props) => {\n  if (props.href) {\n    return (\n      <a\n        className={`button button--${props.size || 'default'} ${\n          props.inverse && 'button--inverse'\n        } ${props.danger && 'button--danger'} ${props.className}`}\n        href={props.href}\n      >\n        {props.children}\n      </a>\n    );\n  }\n  if (props.to) {\n    return (\n      <Link\n        to={props.to}\n        exact={props.exact}\n        className={`button button--${props.size || 'default'} ${\n          props.inverse && 'button--inverse'\n        } ${props.danger && 'button--danger'} ${props.className}`}\n      >\n        {props.children}\n      </Link>\n    );\n  }\n  return (\n    <button\n      className={`button button--${props.size || 'default'} ${\n        props.inverse && 'button--inverse'\n      } ${props.danger && 'button--danger'} ${props.className}`}\n      type={props.type}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\n\nimport './LoadingSpinner.css';\n\nconst LoadingSpinner = props => {\n  return (\n    <div className={`${props.asOverlay && 'loading-spinner__overlay'}`}>\n      <div className=\"lds-dual-ring\"></div>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n","import { createContext } from 'react';\n\nexport const AuthContext = createContext({\n  isLoggedIn: false,\n  userId: null,\n  token: null,\n  login: () => {},\n  logout: () => {}\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\n\nimport Backdrop from './Backdrop';\nimport './Modal.css';\n\nconst ModalOverlay = props => {\n  const content = (\n    <div className={`modal ${props.className}`} style={props.style}>\n      <header className={`modal__header ${props.headerClass}`}>\n        <h2>{props.header}</h2>\n      </header>\n      <form\n        onSubmit={\n          props.onSubmit ? props.onSubmit : event => event.preventDefault()\n        }\n      >\n        <div className={`modal__content ${props.contentClass}`}>\n          {props.children}\n        </div>\n        <footer className={`modal__footer ${props.footerClass}`}>\n          {props.footer}\n        </footer>\n      </form>\n    </div>\n  );\n  return ReactDOM.createPortal(content, document.getElementById('modal-hook'));\n};\n\nconst Modal = props => {\n  return (\n    <React.Fragment>\n      {props.show && <Backdrop onClick={props.onCancel} />}\n      <CSSTransition\n        in={props.show}\n        mountOnEnter\n        unmountOnExit\n        timeout={200}\n        classNames=\"modal\"\n      >\n        <ModalOverlay {...props} />\n      </CSSTransition>\n    </React.Fragment>\n  );\n};\n\nexport default Modal;\n","import React from 'react';\n\nimport Modal from './Modal';\nimport Button from '../FormElements/Button';\n\nconst ErrorModal = props => {\n  return (\n    <Modal\n      onCancel={props.onClear}\n      header=\"An Error Occurred!\"\n      show={!!props.error}\n      footer={<Button onClick={props.onClear}>Okay</Button>}\n    >\n      <p>{props.error}</p>\n    </Modal>\n  );\n};\n\nexport default ErrorModal;\n","import { useState, useCallback, useRef, useEffect } from 'react';\n\nexport const useHttpClient = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState();\n\n  const activeHttpRequests = useRef([]);\n\n  const sendRequest = useCallback(\n    async (url, method = 'GET', body = null, headers = {}) => {\n      setIsLoading(true);\n      const httpAbortCtrl = new AbortController();\n      activeHttpRequests.current.push(httpAbortCtrl);\n\n      try {\n        const response = await fetch(url, {\n          method,\n          body,\n          headers,\n          signal: httpAbortCtrl.signal\n        });\n\n        const responseData = await response.json();\n\n        activeHttpRequests.current = activeHttpRequests.current.filter(\n          reqCtrl => reqCtrl !== httpAbortCtrl\n        );\n\n        if (!response.ok) {\n          throw new Error(responseData.message);\n        }\n\n        setIsLoading(false);\n        return responseData;\n      } catch (err) {\n        setError(err.message);\n        setIsLoading(false);\n        throw err;\n      }\n    },\n    []\n  );\n\n  const clearError = () => {\n    setError(null);\n  };\n\n  useEffect(() => {\n    return () => {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      activeHttpRequests.current.forEach(abortCtrl => abortCtrl.abort());\n    };\n  }, []);\n\n  return { isLoading, error, sendRequest, clearError };\n};\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './Backdrop.css';\n\nconst Backdrop = props => {\n  return ReactDOM.createPortal(\n    <div className=\"backdrop\" onClick={props.onClick}></div>,\n    document.getElementById('backdrop-hook')\n  );\n};\n\nexport default Backdrop;\n","import React, { useRef, useEffect } from 'react';\n\nimport './Map.css';\n\nconst Map = (props) => {\n  const mapRef = useRef();\n\n  const { center, zoom } = props;\n\n  useEffect(() => {\n    new window.ol.Map({\n      target: mapRef.current.id,\n      layers: [\n        new window.ol.layer.Tile({\n          source: new window.ol.source.OSM(),\n        }),\n      ],\n      view: new window.ol.View({\n        center: window.ol.proj.fromLonLat([center.lng, center.lat]),\n        zoom: zoom,\n      }),\n    });\n  }, [center, zoom]);\n\n  return (\n    <div\n      ref={mapRef}\n      className={`map ${props.className}`}\n      style={props.style}\n      id='map'\n    ></div>\n  );\n};\n\nexport default Map;\n","import React, { useState, useContext } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Card from '../../shared/components/UIElements/Card';\nimport Button from '../../shared/components/FormElements/Button';\nimport Modal from '../../shared/components/UIElements/Modal';\nimport Map from '../../shared/components/UIElements/Map';\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\nimport { AuthContext } from '../../shared/context/auth-context';\nimport { useHttpClient } from '../../shared/hooks/http-hook';\nimport './PlaceItem.css';\n\nconst PlaceItem = (props) => {\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\n  const auth = useContext(AuthContext);\n  const [showMap, setShowMap] = useState(false);\n  const [showPlaceDetail, setShowPlaceDetail] = useState(false);\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\n\n  const openPlaceDetailHandler = () => setShowPlaceDetail(true);\n  const closePlaceDetailHandler = () => setShowPlaceDetail(false);\n\n  const openMapHandler = () => setShowMap(true);\n  const closeMapHandler = () => setShowMap(false);\n\n  // const placeCoordinates = JSON.stringify(props.location, null, 4);\n  // console.log(props);\n\n  const showDeleteWarningHandler = () => {\n    setShowConfirmModal(true);\n  };\n  const cancelDeleteHandler = () => {\n    setShowConfirmModal(false);\n  };\n\n  const confirmDeleteHandler = async () => {\n    setShowConfirmModal(false);\n    try {\n      await sendRequest(\n        `${process.env.REACT_APP_BACKEND_URL}/places/${props.id}`,\n        'DELETE',\n        null,\n        {\n          Authorization: 'Bearer ' + auth.token,\n        }\n      );\n      props.onDelete(props.id);\n    } catch (err) {}\n  };\n\n  return (\n    <React.Fragment>\n      <ErrorModal error={error} onClear={clearError} />\n      <Modal\n        show={showPlaceDetail}\n        onCancel={closePlaceDetailHandler}\n        header={props.title}\n        contentClass='place-item__modal-content'\n        footerClass='place-item__modal-actions'\n        footer={<Button onClick={closePlaceDetailHandler}>CLOSE</Button>}\n      >\n        <div className='place-detail-container'>\n          <div className='place-detail'>\n            <div className='place-detail__image_wrap'>\n              <img\n                className='place-detail__image'\n                src={`${process.env.REACT_APP_ASSET_URL}/${props.image}`}\n                alt={props.title}\n              />\n            </div>\n            <div className='place-detail__wrap'>\n              <h3>{props.title}</h3>\n              <p className='place-detail__creator'>\n                First added by: {props.creatorId}\n              </p>\n              <p className='detail__desc'>{props.description}</p>\n              <p>\n                <strong>Address:</strong> {props.address}\n              </p>\n              <p>\n                <strong>Coordinates:</strong> {props.coordinates.lat},{' '}\n                {props.coordinates.lng}\n              </p>\n            </div>\n          </div>\n        </div>\n      </Modal>\n      <Modal\n        show={showMap}\n        onCancel={closeMapHandler}\n        header={props.address}\n        contentClass='place-item__modal-content'\n        footerClass='place-item__modal-actions'\n        footer={<Button onClick={closeMapHandler}>CLOSE</Button>}\n      >\n        <div className='map-container'>\n          <Map center={props.coordinates} zoom={16} />\n        </div>\n      </Modal>\n      <Modal\n        show={showConfirmModal}\n        onCancel={cancelDeleteHandler}\n        header='Are you sure?'\n        footerClass='place-item__modal-actions'\n        footer={\n          <React.Fragment>\n            <Button inverse onClick={cancelDeleteHandler}>\n              CANCEL\n            </Button>\n            <Button danger onClick={confirmDeleteHandler}>\n              DELETE\n            </Button>\n          </React.Fragment>\n        }\n      >\n        <p>\n          Do you want to proceed and delete\n          <br />\n          <strong>&quot;{props.title}&quot;</strong>?\n        </p>\n        <p>Please note, a deleted place cannot be recovered.</p>\n      </Modal>\n      <li className='place-item'>\n        <Card className='place-item__content card_place'>\n          {isLoading && <LoadingSpinner asOverlay />}\n          <div className='place-item__image'>\n            {/* <button\n              className='transparent pointer'\n              href={() => {\n                return false;\n              }}\n              onClick={openPlaceDetailHandler}\n            > */}\n            <Link to={`/portfolio/mern-places/places/${props.id}`}>\n              <img\n                src={`${process.env.REACT_APP_ASSET_URL}/${props.image}`}\n                alt={props.title}\n              />\n            </Link>\n            {/* </button> */}\n          </div>\n          <div className='place-item__info'>\n            <h2>\n              <Link to={`/portfolio/mern-places/places/${props.id}`}>\n                {props.title}\n              </Link>\n            </h2>\n            <h3 className='place-item__address'>{props.address}</h3>\n            <p className='place-item__desc'>{props.description}</p>\n          </div>\n          <div className='place-item__actions'>\n            {/* <Button inverse onClick={openPlaceDetailHandler}>\n              VIEW PLACE\n            </Button> */}\n            <Link\n              className='button'\n              to={`/portfolio/mern-places/places/${props.id}`}\n            >\n              VIEW PLACE\n            </Link>\n            <Button className='plain' inverse onClick={openMapHandler}>\n              VIEW MAP\n            </Button>\n\n            {auth.userId === props.creatorId && <br />}\n\n            {auth.userId === props.creatorId && (\n              <Button\n                className='plain'\n                inverse\n                to={`/portfolio/mern-places/places/${props.id}/update`}\n              >\n                EDIT\n              </Button>\n            )}\n\n            {auth.userId === props.creatorId && (\n              <Button\n                className='plain'\n                danger\n                onClick={showDeleteWarningHandler}\n              >\n                DELETE\n              </Button>\n            )}\n          </div>\n        </Card>\n      </li>\n    </React.Fragment>\n  );\n};\n\nexport default PlaceItem;\n","import React from 'react';\n\nimport Card from '../../shared/components/UIElements/Card';\nimport PlaceItem from './PlaceItem';\nimport Button from '../../shared/components/FormElements/Button';\nimport './PlaceList.css';\n\nconst PlaceList = props => {\n  if (props.items.length === 0) {\n    return (\n      <div className=\"place-list center\">\n        <Card>\n          <h2>No places found. Maybe create one?</h2>\n          <Button to=\"/places/new\">Share Place</Button>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <ul className=\"place-list\">\n      {props.items.map(place => (\n        <PlaceItem\n          key={place.id}\n          id={place.id}\n          image={place.image}\n          title={place.title}\n          description={place.description}\n          address={place.address}\n          creatorId={place.creator}\n          coordinates={place.location}\n          onDelete={props.onDeletePlace}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default PlaceList;\n","module.exports = __webpack_public_path__ + \"static/media/places_logo.c08efe7b.svg\";","import { useState, useCallback, useEffect } from 'react';\n\nlet logoutTimer;\n\nexport const useAuth = () => {\n  const [token, setToken] = useState(false);\n  const [tokenExpirationDate, setTokenExpirationDate] = useState();\n  const [userId, setUserId] = useState(false);\n\n  const login = useCallback((uid, token, expirationDate) => {\n    setToken(token);\n    setUserId(uid);\n    const tokenExpirationDate =\n      expirationDate || new Date(new Date().getTime() + 1000 * 60 * 60);\n    setTokenExpirationDate(tokenExpirationDate);\n    localStorage.setItem(\n      'userData',\n      JSON.stringify({\n        userId: uid,\n        token: token,\n        expiration: tokenExpirationDate.toISOString()\n      })\n    );\n  }, []);\n\n  const logout = useCallback(() => {\n    setToken(null);\n    setTokenExpirationDate(null);\n    setUserId(null);\n    localStorage.removeItem('userData');\n  }, []);\n\n  useEffect(() => {\n    if (token && tokenExpirationDate) {\n      const remainingTime = tokenExpirationDate.getTime() - new Date().getTime();\n      logoutTimer = setTimeout(logout, remainingTime);\n    } else {\n      clearTimeout(logoutTimer);\n    }\n  }, [token, logout, tokenExpirationDate]);\n\n  useEffect(() => {\n    const storedData = JSON.parse(localStorage.getItem('userData'));\n    if (\n      storedData &&\n      storedData.token &&\n      new Date(storedData.expiration) > new Date()\n    ) {\n      login(storedData.userId, storedData.token, new Date(storedData.expiration));\n    }\n  }, [login]);\n\n  return { token, login, logout, userId };\n};","import React from 'react';\n\nimport './MainHeader.css';\n\nconst MainHeader = props => {\n  return <header className=\"main-header\">{props.children}</header>;\n};\n\nexport default MainHeader;\n","import React, { useContext } from 'react';\nimport { NavLink, Link } from 'react-router-dom';\n\nimport { AuthContext } from '../../context/auth-context';\nimport './NavLinks.css';\n\nconst NavLinks = (props) => {\n  const auth = useContext(AuthContext);\n\n  return (\n    <ul className='nav-links'>\n      <li>\n        <NavLink to='/portfolio/mern-places/places' exact>\n          Places\n        </NavLink>\n      </li>\n      <li>\n        <NavLink to='/portfolio/mern-places/users' exact>\n          Users\n        </NavLink>\n      </li>\n      {auth.isLoggedIn && (\n        <li>\n          <NavLink to={`/portfolio/mern-places/${auth.userId}/places`}>\n            My Places\n          </NavLink>\n        </li>\n      )}\n      {auth.isLoggedIn && (\n        <li>\n          <NavLink to='/portfolio/mern-places/places/new'>Add Places</NavLink>\n        </li>\n      )}\n      {!auth.isLoggedIn && (\n        <li>\n          <NavLink to='/portfolio/mern-places/auth'>Login / Signup</NavLink>\n        </li>\n      )}\n      {auth.isLoggedIn && (\n        <li>\n          <Link to={'#'} onClick={auth.logout}>\n            Logout\n          </Link>\n        </li>\n      )}\n    </ul>\n  );\n};\n\nexport default NavLinks;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\n\nimport './SideDrawer.css';\n\nconst SideDrawer = (props) => {\n  const content = (\n    <CSSTransition\n      in={props.show}\n      timeout={200}\n      classNames='slide-in-right'\n      mountOnEnter\n      unmountOnExit\n    >\n      <aside className='side-drawer' onClick={props.onClick}>\n        {props.children}\n      </aside>\n    </CSSTransition>\n  );\n\n  return ReactDOM.createPortal(content, document.getElementById('drawer-hook'));\n};\n\nexport default SideDrawer;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport MainHeader from './MainHeader';\nimport NavLinks from './NavLinks';\nimport SideDrawer from './SideDrawer';\nimport Backdrop from '../UIElements/Backdrop';\nimport './MainNavigation.css';\nimport logo from '../../../assets/img/places_logo.svg';\n\nconst MainNavigation = (props) => {\n  const [drawerIsOpen, setDrawerIsOpen] = useState(false);\n\n  const openDrawerHandler = () => {\n    setDrawerIsOpen(true);\n  };\n\n  const closeDrawerHandler = () => {\n    setDrawerIsOpen(false);\n  };\n\n  return (\n    <React.Fragment>\n      {drawerIsOpen && <Backdrop onClick={closeDrawerHandler} />}\n      <SideDrawer show={drawerIsOpen} onClick={closeDrawerHandler}>\n        <nav className='main-navigation__drawer-nav'>\n          <NavLinks />\n        </nav>\n      </SideDrawer>\n\n      <MainHeader>\n        <h1 className='main-navigation__title'>\n          <Link className='logo' to='/'>\n            <img src={logo} alt='Places' />\n          </Link>\n        </h1>\n        <nav className='main-navigation__header-nav'>\n          <NavLinks />\n        </nav>\n        <button\n          className='main-navigation__menu-btn'\n          onClick={openDrawerHandler}\n        >\n          <span />\n          <span />\n          <span />\n        </button>\n      </MainHeader>\n    </React.Fragment>\n  );\n};\n\nexport default MainNavigation;\n","import React, { useEffect, useState } from 'react';\r\n// import { useParams } from 'react-router-dom';\r\n\r\nimport PlaceList from '../components/PlaceList';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\n\r\nconst AllPlaces = () => {\r\n  const [loadedPlaces, setLoadedPlaces] = useState();\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  //   const userId = useParams().userId;\r\n\r\n  useEffect(() => {\r\n    const fetchPlaces = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/places`\r\n        );\r\n        setLoadedPlaces(responseData.places);\r\n      } catch (err) {}\r\n    };\r\n    fetchPlaces();\r\n  }, [sendRequest]);\r\n\r\n  const placeDeletedHandler = (deletedPlaceId) => {\r\n    setLoadedPlaces((prevPlaces) =>\r\n      prevPlaces.filter((place) => place.id !== deletedPlaceId)\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      {isLoading && (\r\n        <div className='center'>\r\n          <LoadingSpinner />\r\n        </div>\r\n      )}\r\n      {!isLoading && loadedPlaces && (\r\n        <PlaceList items={loadedPlaces} onDeletePlace={placeDeletedHandler} />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default AllPlaces;\r\n","import React, { Suspense } from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  Switch,\n} from 'react-router-dom';\n\n// import Users from './user/pages/Users'; // code splitting below\n// import NewPlace from './places/pages/NewPlace';\n// import UserPlaces from './places/pages/UserPlaces';\n// import UpdatePlace from './places/pages/UpdatePlace';\n// import Auth from './user/pages/Auth';\nimport MainNavigation from './shared/components/Navigation/MainNavigation';\nimport LoadingSpinner from './shared/components/UIElements/LoadingSpinner';\nimport { AuthContext } from './shared/context/auth-context';\nimport { useAuth } from './shared/hooks/auth-hook';\nimport AllPlaces from './places/pages/AllPlaces';\n// import Place from './places/pages/Place';\n\nconst Users = React.lazy(() => import('./user/pages/Users'));\nconst NewPlace = React.lazy(() => import('./places/pages/NewPlace'));\nconst UserPlaces = React.lazy(() => import('./places/pages/UserPlaces'));\nconst UpdatePlace = React.lazy(() => import('./places/pages/UpdatePlace'));\nconst Auth = React.lazy(() => import('./user/pages/Auth'));\nconst Place = React.lazy(() => import('./places/pages/Place'));\n\nconst App = () => {\n  const { token, login, logout, userId } = useAuth();\n\n  let routes;\n\n  if (token) {\n    routes = (\n      <Switch>\n        <Route path='/portfolio/mern-places/' exact>\n          <AllPlaces />\n          {/* <Users /> */}\n        </Route>\n        <Route path='/portfolio/mern-places/users' exact>\n          <Users />\n        </Route>\n        <Route path='/portfolio/mern-places/places' exact>\n          <AllPlaces />\n        </Route>\n        <Route path='/portfolio/mern-places/:userId/places' exact>\n          <UserPlaces />\n        </Route>\n        <Route path='/portfolio/mern-places/places/new' exact>\n          <NewPlace />\n        </Route>\n        <Route path='/portfolio/mern-places/places/:placeId' exact>\n          <Place />\n        </Route>\n        <Route path='/portfolio/mern-places/places/:placeId/update' exact>\n          <UpdatePlace />\n        </Route>\n        <Redirect to='/portfolio/mern-places/' />\n      </Switch>\n    );\n  } else {\n    routes = (\n      <Switch>\n        <Route path='/portfolio/mern-places/' exact>\n          <AllPlaces />\n        </Route>\n        <Route path='/portfolio/mern-places/places/:placeId'>\n          <Place />\n        </Route>\n        <Route path='/portfolio/mern-places/users' exact>\n          <Users />\n        </Route>\n        <Route path='/portfolio/mern-places/:userId/places' exact>\n          <UserPlaces />\n        </Route>\n        <Route path='/portfolio/mern-places/auth'>\n          <Auth />\n        </Route>\n        <Redirect to='/portfolio/mern-places/' />\n      </Switch>\n    );\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        isLoggedIn: !!token,\n        token: token,\n        userId: userId,\n        login: login,\n        logout: logout,\n      }}\n    >\n      <Router>\n        <MainNavigation />\n        <main>\n          <Suspense\n            fallback={\n              <div className='center'>\n                <LoadingSpinner />\n              </div>\n            }\n          >\n            {routes}\n          </Suspense>\n        </main>\n      </Router>\n    </AuthContext.Provider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}